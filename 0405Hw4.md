柯文哲的Facebook粉絲團分析
================

2016/01/01至04/05貼文分析

讀取柯文哲粉絲團資料
--------------------

``` r
if (!require('Rfacebook')){
    install.packages("Rfacebook")
    library(Rfacebook)
}

totalPage<-NULL
lastDate<-Sys.Date()
numberOfPost<-30
DateVector<-seq(as.Date("2016-01-01"),lastDate,by="5 days")
DateVectorStr<-as.character(DateVector)
DateVectorStr

token<-'CAACEdEose0cBAKg3ZADq6fkgstOfBdXaZBKwoHyKP26TidyDMY1oHegYCAnNgOxQ3voaNLTZAj73e0wMHgAZBf8fZAInwSg2DQi6jFQEVSKGzsddHAfwRzTgZAArpvqVCCiWK00v8tRVx4ZAzngKeQMwqqZCU0EeFMDZBuQZC3y7OhRMBixdvYZA36YZBuO4jt8Y8ZCXoIJk2Y3kyyAZDZD'
for(i in 1:(length(DateVectorStr)-1)){
    tempPage<-getPage("DoctorKoWJ", token,
                      since = DateVectorStr[i],until = DateVectorStr[i+1])
    totalPage<-rbind(totalPage,tempPage)
}
nrow(totalPage)

totalPage$datetime <- as.POSIXct(totalPage$created_time, 
                                 format = "%Y-%m-%dT%H:%M:%S+0000", 
                                 tz = "GMT")
totalPage$dateTPE <- format(totalPage$datetime, "%Y-%m-%d", 
                            tz = "Asia/Taipei")
totalPage$weekdays <-weekdays(as.Date(totalPage$dateTPE))
```

每日發文數分析
--------------

``` r
output<-aggregate(message~weekdays+dateTPE,totalPage,length)
library(knitr)
kable(output, digits=2)
```

| weekdays | dateTPE    |  message|
|:---------|:-----------|--------:|
| 星期五   | 2016-01-01 |        1|
| 星期二   | 2016-01-05 |        1|
| 星期三   | 2016-01-06 |        1|
| 星期四   | 2016-01-07 |        1|
| 星期五   | 2016-01-08 |        2|
| 星期六   | 2016-01-09 |        4|
| 星期日   | 2016-01-10 |        2|
| 星期二   | 2016-01-12 |        1|
| 星期四   | 2016-01-14 |        1|
| 星期五   | 2016-01-15 |        1|
| 星期六   | 2016-01-16 |        1|
| 星期三   | 2016-01-20 |        1|
| 星期四   | 2016-01-21 |        1|
| 星期六   | 2016-01-23 |        1|
| 星期日   | 2016-01-24 |        1|
| 星期一   | 2016-01-25 |        1|
| 星期二   | 2016-01-26 |        1|
| 星期四   | 2016-01-28 |        1|
| 星期五   | 2016-01-29 |        1|
| 星期六   | 2016-01-30 |        1|
| 星期一   | 2016-02-01 |        1|
| 星期三   | 2016-02-03 |        1|
| 星期四   | 2016-02-04 |        1|
| 星期五   | 2016-02-05 |        1|
| 星期六   | 2016-02-06 |        2|
| 星期日   | 2016-02-07 |        1|
| 星期六   | 2016-02-13 |        1|
| 星期日   | 2016-02-14 |        1|
| 星期三   | 2016-02-17 |        1|
| 星期一   | 2016-02-22 |        1|
| 星期五   | 2016-02-26 |        1|
| 星期六   | 2016-02-27 |        1|
| 星期日   | 2016-02-28 |        1|
| 星期四   | 2016-03-03 |        1|
| 星期五   | 2016-03-04 |        1|
| 星期六   | 2016-03-05 |        1|
| 星期二   | 2016-03-08 |        1|
| 星期四   | 2016-03-10 |        1|
| 星期五   | 2016-03-11 |        1|
| 星期日   | 2016-03-13 |        1|
| 星期一   | 2016-03-14 |        1|
| 星期四   | 2016-03-17 |        1|
| 星期日   | 2016-03-20 |        1|
| 星期二   | 2016-03-22 |        2|
| 星期三   | 2016-03-23 |        1|
| 星期五   | 2016-03-25 |        1|
| 星期一   | 2016-03-28 |        1|
| 星期二   | 2016-03-29 |        1|
| 星期四   | 2016-03-31 |        1|

討論:首先在讀取資料時，先把fb的created\_time轉成較能明瞭的日期，再利用weekdays函數即能得知發文那天是禮拜幾。從輸出的結果可以發現，柯文哲通常一到四天之內一定會發一篇文章，而在星期五、星期六或星期日時有時會一天發兩篇以上。在1/9這一天我們可以看到他總共發了四篇文章，這是從今年1/1以來單日發文最多的一天。那為甚麼這一天的發文會那麼多呢?查了一下totalPage之後發現原來柯文哲這天是在騎腳踏車，發那麼多文章的原因可能是想讓大家知道他現在從台北騎到哪了。

每日likes數
-----------

``` r
output<-aggregate(likes_count~dateTPE,totalPage,mean)
library(knitr)
kable(output, digits=2)
```

| dateTPE    |  likes\_count|
|:-----------|-------------:|
| 2016-01-01 |       55960.0|
| 2016-01-05 |       59811.0|
| 2016-01-06 |       38924.0|
| 2016-01-07 |       37083.0|
| 2016-01-08 |       39939.0|
| 2016-01-09 |       95126.5|
| 2016-01-10 |      223663.5|
| 2016-01-12 |       36274.0|
| 2016-01-14 |      187435.0|
| 2016-01-15 |      128668.0|
| 2016-01-16 |      329092.0|
| 2016-01-20 |       55524.0|
| 2016-01-21 |       26647.0|
| 2016-01-23 |       45852.0|
| 2016-01-24 |       25854.0|
| 2016-01-25 |       37997.0|
| 2016-01-26 |       20140.0|
| 2016-01-28 |       20838.0|
| 2016-01-29 |       31178.0|
| 2016-01-30 |       51034.0|
| 2016-02-01 |       15272.0|
| 2016-02-03 |       12356.0|
| 2016-02-04 |       26638.0|
| 2016-02-05 |       14148.0|
| 2016-02-06 |       70149.5|
| 2016-02-07 |       32739.0|
| 2016-02-13 |      128016.0|
| 2016-02-14 |       24958.0|
| 2016-02-17 |       21269.0|
| 2016-02-22 |       29301.0|
| 2016-02-26 |       21829.0|
| 2016-02-27 |      180909.0|
| 2016-02-28 |      228890.0|
| 2016-03-03 |       25033.0|
| 2016-03-04 |       42963.0|
| 2016-03-05 |       13529.0|
| 2016-03-08 |       54804.0|
| 2016-03-10 |       15650.0|
| 2016-03-11 |       17033.0|
| 2016-03-13 |       25167.0|
| 2016-03-14 |       22114.0|
| 2016-03-17 |       18768.0|
| 2016-03-20 |       45903.0|
| 2016-03-22 |        9366.0|
| 2016-03-23 |        8144.0|
| 2016-03-25 |        8957.0|
| 2016-03-28 |      138917.0|
| 2016-03-29 |       34131.0|
| 2016-03-31 |        7927.0|

討論:從輸出的結果可以發現，柯文哲每一篇貼文大都獲得10000以上的likes數量，但3/22之後的貼文都在10000之下，我們可以猜測是因為時間離現在較近，累積的likes數可能不如以前來的多。但就3/28、3/29兩天likes數累積卻超過16萬，為甚麼會那麼多呢?原來是恐怖的兇殺案件的文章，這類文章往往能讓許多人產生共鳴，所以我想這是他能獲得這麼多likes數的原因。而在1/16這天，柯文哲的一篇文章獲得近33萬的like數，這是今年以來最多like數的一篇文章，而這篇發文是跟蔡英文當選總統有關，我們可以猜測或許有追蹤柯文哲粉絲團的人可能也很喜歡蔡英文。

每日comments數
--------------

``` r
output<-aggregate(comments_count~dateTPE,totalPage,mean)
library(knitr)
kable(output, digits=2)
```

| dateTPE    |  comments\_count|
|:-----------|----------------:|
| 2016-01-01 |            961.0|
| 2016-01-05 |           1434.0|
| 2016-01-06 |            825.0|
| 2016-01-07 |            783.0|
| 2016-01-08 |            673.0|
| 2016-01-09 |           5152.5|
| 2016-01-10 |           5981.5|
| 2016-01-12 |            820.0|
| 2016-01-14 |           2847.0|
| 2016-01-15 |           1140.0|
| 2016-01-16 |           2439.0|
| 2016-01-20 |            971.0|
| 2016-01-21 |            716.0|
| 2016-01-23 |            517.0|
| 2016-01-24 |            348.0|
| 2016-01-25 |            445.0|
| 2016-01-26 |            369.0|
| 2016-01-28 |            508.0|
| 2016-01-29 |            485.0|
| 2016-01-30 |            708.0|
| 2016-02-01 |            989.0|
| 2016-02-03 |            950.0|
| 2016-02-04 |            725.0|
| 2016-02-05 |            467.0|
| 2016-02-06 |            541.0|
| 2016-02-07 |            907.0|
| 2016-02-13 |           2159.0|
| 2016-02-14 |            638.0|
| 2016-02-17 |            494.0|
| 2016-02-22 |            737.0|
| 2016-02-26 |            597.0|
| 2016-02-27 |           3264.0|
| 2016-02-28 |           3560.0|
| 2016-03-03 |            307.0|
| 2016-03-04 |            963.0|
| 2016-03-05 |            710.0|
| 2016-03-08 |            935.0|
| 2016-03-10 |            319.0|
| 2016-03-11 |            324.0|
| 2016-03-13 |            328.0|
| 2016-03-14 |            490.0|
| 2016-03-17 |            845.0|
| 2016-03-20 |            960.0|
| 2016-03-22 |            287.5|
| 2016-03-23 |            520.0|
| 2016-03-25 |            579.0|
| 2016-03-28 |           5064.0|
| 2016-03-29 |           1471.0|
| 2016-03-31 |           1176.0|

討論:從輸出的結果可以發現，柯文哲每一篇貼文大都獲得500以上的comments數，而在1/9，1/10兩天的comments都超過5000，這兩天的發文都是跟柯文哲騎腳踏車有關，而從comments的內容來看，我們可以看到很多篇關於市長加油的留言，看來comments那麼多的原因應該是因為粉絲希望柯文哲能趕快完成北高雙城挑戰，而上面也充滿了很多其他篇較少看到的正面留言。

每日shares數
------------

``` r
output<-aggregate(shares_count~dateTPE,totalPage,mean)
library(knitr)
kable(output, digits=2)
```

| dateTPE    |  shares\_count|
|:-----------|--------------:|
| 2016-01-01 |         313.00|
| 2016-01-05 |        2571.00|
| 2016-01-06 |        1259.00|
| 2016-01-07 |        1126.00|
| 2016-01-08 |         428.50|
| 2016-01-09 |        2359.25|
| 2016-01-10 |       16411.00|
| 2016-01-12 |         564.00|
| 2016-01-14 |       34783.00|
| 2016-01-15 |        2073.00|
| 2016-01-16 |        4898.00|
| 2016-01-20 |         730.00|
| 2016-01-21 |         516.00|
| 2016-01-23 |        1018.00|
| 2016-01-24 |         388.00|
| 2016-01-25 |         276.00|
| 2016-01-26 |         202.00|
| 2016-01-28 |         206.00|
| 2016-01-29 |         214.00|
| 2016-01-30 |         350.00|
| 2016-02-01 |         520.00|
| 2016-02-03 |         188.00|
| 2016-02-04 |         612.00|
| 2016-02-05 |          86.00|
| 2016-02-06 |         734.00|
| 2016-02-07 |         238.00|
| 2016-02-13 |        2456.00|
| 2016-02-14 |         891.00|
| 2016-02-17 |         190.00|
| 2016-02-22 |         301.00|
| 2016-02-26 |         347.00|
| 2016-02-27 |        1416.00|
| 2016-02-28 |       11241.00|
| 2016-03-03 |         527.00|
| 2016-03-04 |        5333.00|
| 2016-03-05 |         150.00|
| 2016-03-08 |         273.00|
| 2016-03-10 |         160.00|
| 2016-03-11 |         264.00|
| 2016-03-13 |         298.00|
| 2016-03-14 |         167.00|
| 2016-03-17 |         136.00|
| 2016-03-20 |         343.00|
| 2016-03-22 |         193.00|
| 2016-03-23 |         107.00|
| 2016-03-25 |          86.00|
| 2016-03-28 |        4984.00|
| 2016-03-29 |         443.00|
| 2016-03-31 |         129.00|

討論:從輸出的結果可以發現，柯文哲的每篇發文平均能獲得100以上的shares數，而在1/14這天shares的數量更超過34000，我們觀察這篇發文是關於夢想背後的心路歷程，一樣跟北高雙城挑戰有關，能獲得這麼多shares的原因應為大家對於柯文哲努力不放棄的精神都很有感覺，所以希望讓更多人看到這則發文；另外在2/28這天，發文的shares數也大於10000次，內容為柯文哲希望大家記取228歷史的教訓而走出悲傷，一樣是非常勵志的一篇發文，這是我認為他能獲得較多shares數的原因。
